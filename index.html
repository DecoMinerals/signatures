<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ–¥–ø–∏—Å–∏ Deco Minerals</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- –®—Ä–∏—Ñ—Ç -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Montserrat", sans-serif;
        background: #f5f7fb;
        margin: 0;
        padding: 20px;
        color: #111827;
      }

      .page {
        max-width: 960px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.1fr);
        gap: 24px;
        align-items: flex-start;
      }

      h1 {
        margin-top: 0;
        font-size: 24px;
        color: #000080;
      }

      .card {
        background: #ffffff;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
        padding: 20px 22px;
      }

      .form-group {
        margin-bottom: 12px;
      }

      .form-group label {
        display: block;
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 4px;
        color: #111827;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        box-sizing: border-box;
        padding: 8px 10px;
        border-radius: 8px;
        border: 1px solid #d1d5db;
        font-family: "Montserrat", sans-serif;
        font-size: 14px;
        outline: none;
        transition: border-color 0.15s ease, box-shadow 0.15s ease;
        resize: vertical;
        min-height: 36px;
      }

      .form-group input:focus,
      .form-group textarea:focus {
        border-color: #000080;
        box-shadow: 0 0 0 2px rgba(0, 0, 128, 0.12);
      }

      .small-hint {
        font-size: 11px;
        color: #6b7280;
        margin-top: 3px;
      }

      .file-input {
        padding: 6px 0;
      }

      .preview-wrapper {
        overflow-x: auto;
      }

      .preview-title {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 10px;
        color: #000080;
      }

      textarea#htmlOutput {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
        font-size: 12px;
        height: 220px;
        white-space: pre;
      }

      .btn-row {
        display: flex;
        justify-content: flex-end;
        margin-top: 8px;
        margin-bottom: 4px;
        gap: 8px;
      }

      .btn-copy {
        padding: 6px 10px;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        font-size: 12px;
        font-weight: 600;
        background: #000080;
        color: white;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .btn-copy:active {
        transform: translateY(1px);
      }

      .copy-status {
        font-size: 11px;
        color: #059669;
        min-height: 14px;
      }

      /* ===== –°–¢–ò–õ–ò –í–ù–£–¢–†–ò –ü–û–î–ü–ò–°–ò (–°–ö–û–ü–ò–†–û–í–ê–ù–û –ò–ó –¢–í–û–ï–ì–û –®–ê–ë–õ–û–ù–ê, –ù–û –°–û–ö–†–ï–ü–õ–ï–ù–û –í .signature-root) ===== */
      .signature-root * {
        font-family: "Montserrat", sans-serif;
        text-decoration: none;
        color: #000080 !important;
        font-style: normal;
        font-size: 16px;
      }

      .signature-root .j {
        height: 20px;
        display: flex;
        align-items: center;
      }

      .signature-root .i {
        height: 30px;
      }

      .signature-root .myt {
        border-style: none;
        border-color: white;
        padding: 5px;
        width: 500px;
      }

      /* –ß—É—Ç—å —É–º–µ–Ω—å—à–∏–º –æ–±—â–∏–π –º–∞—Å—à—Ç–∞–± –ø–æ–¥–ø–∏—Å–∏, —á—Ç–æ–±—ã –ª—É—á—à–µ –≤–ª–µ–∑–∞–ª–∞ –≤ –ø—Ä–µ–≤—å—é */
      .signature-scale {
        transform: scale(0.95);
        transform-origin: top left;
      }

      @media (max-width: 840px) {
        .page {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ñ–æ—Ä–º–∞ -->
      <div class="card">
        <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä e-mail –ø–æ–¥–ø–∏—Å–∏ Deco Minerals</h1>

        <div class="form-group">
          <label>–§–∞–º–∏–ª–∏—è</label>
          <input type="text" id="lastName" value="–î–µ–µ–≤" />
        </div>

        <div class="form-group">
          <label>–ò–º—è</label>
          <input type="text" id="firstName" value="–Æ—Ä–∏–π" />
        </div>

        <div class="form-group">
          <label>–û—Ç—á–µ—Å—Ç–≤–æ</label>
          <input type="text" id="middleName" value="–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á" />
        </div>

        <div class="form-group">
          <label>–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
          <input
            type="text"
            id="position"
            value="–°—Ç–∞—Ä—à–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂"
          />
        </div>

        <div class="form-group">
          <label>–ö–æ–º–ø–∞–Ω–∏—è</label>
          <input type="text" id="company" value='–û–û–û "–î–µ–∫–æ –ú–∏–Ω–µ—Ä–∞–ª—Å –°–ù–ì"' />
        </div>

        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω 1</label>
          <input type="text" id="phone1" value="+7 (495) 705-25-71" />
        </div>

        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω 2</label>
          <input type="text" id="phone2" value="+7 (905) 650-99-44" />
          <div class="small-hint">
            –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –≤—Ç–æ—Ä–æ–π –Ω–æ–º–µ—Ä
          </div>
        </div>

        <div class="form-group">
          <label>E-mail</label>
          <input type="email" id="email" value="yad@decominerals.ru" />
        </div>

        <div class="form-group">
          <label>–°–∞–π—Ç</label>
          <input type="text" id="site" value="decominerals.ru" />
        </div>

        <div class="form-group">
          <label>–§–æ—Ç–æ (–¥–ª—è –∫–≤–∞–¥—Ä–∞—Ç–∞ —Å–ª–µ–≤–∞)</label>
          <input
            type="file"
            id="photoInput"
            accept="image/*"
            class="file-input"
          />
          <div class="small-hint">
            –ë—É–¥–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–æ –∫–∞–∫ dataURL, —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å—å —Ä–∞–±–æ—Ç–∞–ª–∞ –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö
            —Å—Å—ã–ª–æ–∫.
          </div>
        </div>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ø—Ä–µ–≤—å—é –∏ HTML-–∫–æ–¥ -->
      <div class="card">
        <div class="preview-wrapper">
          <div class="preview-title">–ü—Ä–µ–≤—å—é –ø–æ–¥–ø–∏—Å–∏</div>
          <div id="signaturePreview"></div>
        </div>

        <div class="btn-row">
          <button type="button" class="btn-copy" onclick="copyHtml()">
            üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å HTML
          </button>
        </div>
        <div class="form-group">
          <label>HTML-–∫–æ–¥ –ø–æ–¥–ø–∏—Å–∏</label>
          <textarea id="htmlOutput" readonly></textarea>
        </div>
        <div id="copyStatus" class="copy-status"></div>
      </div>
    </div>

    <script>
      const inputs = [
        "lastName",
        "firstName",
        "middleName",
        "position",
        "company",
        "phone1",
        "phone2",
        "email",
        "site",
      ];

      let photoDataUrl =
        "https://decominerals.ru/wp-content/uploads/2024/08/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA2-1.jpg";

      const photoInput = document.getElementById("photoInput");

      photoInput.addEventListener("change", (e) => {
        const file = e.target.files && e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = (ev) => {
          photoDataUrl = ev.target.result;
          updateSignature();
        };
        reader.readAsDataURL(file);
      });

      inputs.forEach((id) => {
        document.getElementById(id).addEventListener("input", updateSignature);
      });

      function buildSignatureHtml() {
        const lastName = document.getElementById("lastName").value.trim();
        const firstName = document.getElementById("firstName").value.trim();
        const middleName = document.getElementById("middleName").value.trim();
        const position = document.getElementById("position").value.trim();
        const company = document.getElementById("company").value.trim();
        const phone1 = document.getElementById("phone1").value.trim();
        const phone2 = document.getElementById("phone2").value.trim();
        const email = document.getElementById("email").value.trim();
        const site = document.getElementById("site").value.trim();

        const lastNameUpper = lastName.toUpperCase();
        const fioLine = [firstName, middleName].filter(Boolean).join(" ");

        const phonesLine = [phone1, phone2].filter(Boolean).join(", ");

        const telHref1 = phone1 ? "tel:" + phone1.replace(/[^+\d]/g, "") : "";
        const telHref2 = phone2 ? "tel:" + phone2.replace(/[^+\d]/g, "") : "";
        const mailHref = email ? "mailto:" + email : "#";

        const siteDisplay = site || "decominerals.ru";
        const normalizedSiteHref =
          siteDisplay.startsWith("http://") ||
          siteDisplay.startsWith("https://")
            ? siteDisplay
            : "https://" + siteDisplay.replace(/^\/+/, "");

        return `
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
      .j{height:20px;display:flex;align-items:center;}
      .i{height:30px;}
      .myt{border-style:none;border-color:white;padding:5px;width:500px;}
      *{font-family:"Montserrat",sans-serif;text-decoration:none;color:#000080!important;font-style:normal;font-size:16px;}
    </style>
  </head>
  <body>
    <img style="width:580px;" src="https://decominerals.ru/wp-content/uploads/2024/08/Untitled-2-02-scaled.jpg">
    <div class="myt">
      <table height="184" width="490">
        <tr>
          <td valign="top" width="170">
            <div style="padding-right:20px;padding-bottom:20px;display:flex;flex-direction:column;margin-top:0;">
              <img src="${photoDataUrl}" width="154" />
            </div>
          </td>
          <td>
            <u>
              <div style="margin-top:-20px">
                <font><b style="font-size:25px;text-transform:uppercase;">${lastNameUpper}</b></font><br>
                <font><div style="font-size:24px;">${fioLine}</div></font>
              </div>
            </u>
            <br>
            <font style="margin-top:10px;">
              <div style="margin-top:-10px;">
                ${position}<br><font>${company}</font>
              </div>
              <div style="margin-top:10px;">
                <i>
                  ${
                    phonesLine
                      ? `<div class="j">
                      <img src="https://decominerals.ru/wp-content/uploads/2024/08/Untitled-2-03.svg" style="height:17px">
                      ${phone1 ? `<a href="${telHref1}">${phone1}</a>` : ""}${
                          phone1 && phone2 ? "<span>,&nbsp;</span>" : ""
                        }${phone2 ? `<a href="${telHref2}">${phone2}</a>` : ""}
                    </div>`
                      : ""
                  }
                  <div class="j">
                    <img src="https://decominerals.ru/wp-content/uploads/2024/08/Untitled-2-04.svg" style="height:17px">
                    <a href="${mailHref}"><font>${email}</font></a>
                  </div>
                  <div class="j">
                    <img src="https://decominerals.ru/wp-content/uploads/2024/08/Untitled-2-05.svg" style="height:17px">
                    <a href="${normalizedSiteHref}"><font>${siteDisplay}</font></a>
                  </div>
                </i>
              </div>
            </font>
          </td>
        </tr>
      </table>
    </div>
    <img src="https://decominerals.ru/wp-content/uploads/2024/08/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA-%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0-2024-08-08-141622.png" style="width:580px;">
    <div style="display:flex;margin-top:20px;">
      <a href="https://benteco.ru"><img class="i" src="https://decominerals.ru/wp-content/uploads/2024/07/brends-logo_02-03.png"></a>
      <a href="https://decofitr.ru"><img class="i" src="https://clck.ru/3CMpsF"></a>
      <a href="https://decoperl.ru"><img class="i" src="https://clck.ru/3CMpym"></a>
      <a href="https://decomol.ru"><img class="i" src="https://clck.ru/3CMpxh"></a>
      <a href="https://decoseeds.ru"><img class="i" src="https://clck.ru/3CMpzq"></a>
      <a href="https://halofiltr.ru"><img class="i" src="https://clck.ru/3CMq36"></a>
      <img class="i" src="https://clck.ru/3CMq5S">
    </div>
  </body>
</html>
`.trim();
      }

      function updateSignature() {
        const html = buildSignatureHtml();
        const previewContainer = document.getElementById("signaturePreview");
        const htmlOutput = document.getElementById("htmlOutput");

        htmlOutput.value = html;

        previewContainer.innerHTML = `
        <div class="signature-root signature-scale">
          ${html}
        </div>
      `;
        document.getElementById("copyStatus").textContent = "";
      }

      async function copyHtml() {
        const htmlOutput = document.getElementById("htmlOutput");
        const copyStatus = document.getElementById("copyStatus");
        htmlOutput.select();
        htmlOutput.setSelectionRange(0, 999999);

        try {
          await navigator.clipboard.writeText(htmlOutput.value);
          copyStatus.textContent = "HTML-–∫–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.";
        } catch (e) {
          copyStatus.textContent =
            "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é (Ctrl+C).";
        }
      }

      // –ü–µ—Ä–≤–∏—á–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
      updateSignature();
    </script>
  </body>
</html>
